<!DOCTYPE html>
<html xmlns:og="http://ogp.me/ns#"
      xmlns:fb="http://www.facebook.com/2008/fbml">
<head>
   <script type="text/javascript">var _sf_startpt=(new Date()).getTime()</script>

   <title>{% block title %}ttDashboard{% endblock %}</title>
   <meta property="og:title" content="ttDashboard provide live stats for turntable.fm"/>
   <meta property="og:type" content="website"/>
   <meta property="og:url" content="http://ttdashboard.com/"/>
   <meta property="og:image" content="http://ttdashboard.com/img/record.png"/>
   <meta property="og:site_name" content="ttDashboard"/>
   <meta property="fb:admins" content="723872906"/>
   <meta property="og:description" content="If you want to know how many persons had vote for or against your song, this website is for you."/>
   <meta property="fb:app_id" content="213968411981181"/>

   <meta http-equiv="cache-control" content="public, max-age=600" />
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <meta name="author" content="{% block meta_author %}Alain Gilbert{% endblock %}" /> 
   <meta name="keywords" content="{% block meta_keywords %}turntable dashboard, ttdashboard, turntable.fm, turntable, turntablefm, live stats, dashboard, statistiques, statistics, Alain Gilbert{% endblock %}" /> 
   <meta name="description" content="{% block meta_description %}ttDashboard provide live stats for turntable.fm website.{% endblock %}" /> 

   <link rel="stylesheet" media="screen" type="text/css" href="/css/reset.css" />
   <link rel="stylesheet" media="screen" type="text/css" href="/css/style.css" />
   <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
   <script src="/js/jquery.js" type="text/javascript"></script>
   <script src="/js/jquery.validate.js" type="text/javascript"></script>
   <script src="http://platform.twitter.com/anywhere.js?id=wE7CJRbdHIpyq6yXo6CvMA&v=1" type="text/javascript"></script>
   <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-12428663-6']);
      _gaq.push(['_trackPageview']);
      (function() {
         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
         ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
   </script>
   <script type="text/javascript">
      $(document).ready(function() {

         // Search form.
         if ($('#search').val() == 'Search') { 
            $('#search').css('color', '#bbb');
         }
         $('#search').focus(function() {
            if ($(this).val() == 'Search') {
               $(this).val('');
               $(this).css('color', 'black');
            }
         });
         $('#search').blur(function() {
            if ($(this).val() == '') {
               $(this).val('Search');
               $(this).css('color', '#bbb');
            }
         });

         // Facebook connect.
         window.fbAsyncInit = function() {
            FB.init({appId: '213968411981181', status: true, cookie: true, xfbml: true});
 
            /* All the events registered */
            FB.Event.subscribe('auth.login', function(response) {
               // do something with response
               login();
            });
            FB.Event.subscribe('auth.logout', function(response) {
               // do something with response
               logout();
            });
            FB.getLoginStatus(function(response) {
               if (response.session) {
                  login();
               } else {
                  logout();
               }
            });
         };
         (function() {
            var e = document.createElement('script'); e.async = true;
            e.src = document.location.protocol +
               '//connect.facebook.net/en_US/all.js';
            document.getElementById('fb-root').appendChild(e);
         }());

         function login() {
            FB.api('/me', function(response) {
               //$('#login').css('display', 'none');
               $('#logout').css('display', 'block');
               $('#logout').html('<img src="https://graph.facebook.com/'+response.username+'/picture/" width="23" alt="" /><span class="username"><a href="/user/f/'+response.id+'/">'+response.name+'</a></span>');
            });
         }
         function logout() {
            $('#logout').css('display', 'none');
            $('#login').css('display', 'block');
         }




         $('#loginbtn').click(function() {
            var r = $(this).offset().left + $(this).outerWidth();
            $('#login_form').css('right', $(window).width() - r);
            $('#login_form').css('top', $(this).offset().top + $(this).height() + 15);
            $('#login_form').toggleClass('hidden');
         });

         // Login form.
         if ($('#loginfrm .username').val() == 'Username') { 
            $('#loginfrm .username').css('color', '#bbb');
         }
         $('#loginfrm .username').focus(function() {
            if ($(this).val() == 'Username') {
               $(this).val('');
               $(this).css('color', 'black');
            }
         });
         $('#loginfrm .username').blur(function() {
            if ($(this).val() == '') {
               $(this).val('Username');
               $(this).css('color', '#bbb');
            }
         });
         if ($('#loginfrm .password').val() == 'Password') { 
            $('#loginfrm .password').css('color', '#bbb');
         }
         $('#loginfrm .password').focus(function() {
            if ($(this).val() == 'Password') {
               $(this).val('');
               $(this).css('color', 'black');
            }
         });
         $('#loginfrm .password').blur(function() {
            if ($(this).val() == '') {
               $(this).val('Password');
               $(this).css('color', '#bbb');
            }
         });
         // Register form.
         if ($('#registerfrm .username').val() == 'Username') { 
            $('#registerfrm .username').css('color', '#bbb');
         }
         $('#registerfrm .username').focus(function() {
            if ($(this).val() == 'Username') {
               $(this).val('');
               $(this).css('color', 'black');
            }
         });
         $('#registerfrm .username').blur(function() {
            if ($(this).val() == '') {
               $(this).val('Username');
               $(this).css('color', '#bbb');
            }
         });
         if ($('#registerfrm .password').val() == 'Password') { 
            $('#registerfrm .password').css('color', '#bbb');
         }
         $('#registerfrm .password').focus(function() {
            if ($(this).val() == 'Password') {
               $(this).val('');
               $(this).css('color', 'black');
            }
         });
         $('#registerfrm .password').blur(function() {
            if ($(this).val() == '') {
               $(this).val('Password');
               $(this).css('color', '#bbb');
            }
         });
         if ($('#registerfrm .email').val() == 'Email address') { 
            $('#registerfrm .email').css('color', '#bbb');
         }
         $('#registerfrm .email').focus(function() {
            if ($(this).val() == 'Email address') {
               $(this).val('');
               $(this).css('color', 'black');
            }
         });
         $('#registerfrm .email').blur(function() {
            if ($(this).val() == '') {
               $(this).val('Email address');
               $(this).css('color', '#bbb');
            }
         });


         jQuery.validator.addMethod("notEqual", function(value, element, param) {
            return this.optional(element) || value != param;
         }, "Invalid value");

         $("#loginfrm").validate({
            rules: {
               username: {
                  required: true,
                  minlength: 3,
                  notEqual: 'Username',
               },
               password: {
                  required: true,
                  minlength: 5,
                  notEqual: 'Password',
               }
            },
            messages: {
               username: {
                  minlength: 'Minimum 3 chars',
               },
               password: {
                  minlength: 'Minimum 5 chars',
               }
            }
         });
         $("#registerfrm").validate({
            rules: {
               username: {
                  required: true,
                  minlength: 3,
                  notEqual: 'Username',
               },
               password: {
                  required: true,
                  minlength: 5,
                  notEqual: 'Password',
               },
               email: {
                  required: true,
               }
            },
            messages: {
               username: {
                  minlength: 'Minimum 3 chars',
               },
               email: {
                  email: 'Email invalid',
               },
               password: {
                  minlength: 'Minimum 5 chars',
               }
            }
         });


         // This function place the fixed elements according to the
         // window size.
         function moveFixedElems() {
            var winWidth = $(window).width();
            if (winWidth <= 1000 + (120 * 2) + 20) {
               $('#page').css('margin-left', '130px');
               $('#footer .center').css('margin-left', '130px');
               $('#menu .center').css('margin-left', '130px');
               $('#menu2 .center').css('margin-left', '130px');
            } else {
               $('#page').css('margin-left', 'auto');
               $('#footer .center').css('margin-left', 'auto');
               $('#menu .center').css('margin-left', 'auto');
               $('#menu2 .center').css('margin-left', 'auto');
            }
            if (winWidth <= 130 + 1000 + 10 + 91) {
               $('#share').css('right', 'auto');
               $('#share').css('margin-left', (130+1000+10)+'px');
            } else {
               $('#share').css('right', '0px');
               $('#share').css('margin-right', '0px');
            }
         }
         $(window).resize(function() {
            moveFixedElems();
         });
         moveFixedElems();

      });
   </script>
   {% block extrahead %}{% endblock %}
</head>
<body>

<div id="fb-root"></div>

<div id="share">
   <a href="http://www.facebook.com/ttdashboard" title="Follow us on facebook" target="_blank"><img src="/img/facebook_16.png" /></a>
   <a href="http://twitter.com/#!/ttdashboard" title="Follow us on twitter" target="_blank"><img src="/img/twitter_16.png" /></a><br />
   <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://ttdashboard.com/" data-text="#turntable dashboard - live stats" data-count="vertical" data-via="alain_gilbert">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
   <br />
   <iframe src="http://www.facebook.com/plugins/like.php?app_id=127392410675678&amp;href=http%3A%2F%2Fttdashboard.com%2F&amp;send=false&amp;layout=box_count&amp;width=70&amp;show_faces=true&amp;action=like&amp;colorscheme=light&amp;font&amp;height=65" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:65px; height:70px;" allowTransparency="true"></iframe><br />
   <g:plusone size="tall" href="http://ttdashboard.com/"></g:plusone><br />
   <script type="text/javascript" src="http://platform.linkedin.com/in.js"></script><script type="in/share" data-url="http://ttdashboard.com/" data-counter="top"></script><br />

      <br />
      <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
      <input type="hidden" name="cmd" value="_s-xclick">
      <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
      ">
      <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
      <img alt="" border="0" src="https://www.paypalobjects.com/fr_CA/i/scr/pixel.gif" width="1" height="1">
      </form>

</div>

{% if PROD %}
<div id="ads">
   <script type="text/javascript"><!--
   google_ad_client = "pub-0624785174077060";
   /* 120x600, created 7/17/11 */
   google_ad_slot = "8603111439";
   google_ad_width = 120;
   google_ad_height = 600;
   //-->
   </script>
   <script type="text/javascript"
   src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
   </script>
</div>
{% endif %}


<div id="header">
  <div id="menu">
     <div class="center">
        <div class="right">
           <div id="login">
              {% if user.is_authenticated %}
                 <a href="/profile/">{{user}}</a> | <a href="/logout/">Logout</a>
              {% else %}
              <span id="loginbtn" class="login button medium rounded blue">Login / Register</span>
              <div id="login_form" class="hidden">
                 <div class="left">
                    <h2>Login</h2>
                    <form method="post" action="/login/" id="loginfrm">
                       <input type="text" name="username" value="Username" class="username" />
                       <input type="password" name="password" value="Password" class="password" />
                       <input type="submit" value="Login" />
                    </form>
                 </div>
                 <div class="right">
                    <h2>Register</h2>
                    <form method="post" action="/register/" id="registerfrm">
                       <input type="text" name="username" class="username" value="Username" />
                       <input type="password" name="password" class="password" value="Password" />
                       <input type="text" name="email" class="email" value="Email address" />
                       <input type="submit" value="Register" />
                    </form>
                 </div>
                 <div class="clear"></div>
                 <a href="/recovery/">I've lost my password</a>
              </div>
              {% endif %}
           </div>
        </div>
        <ul>
           <li><a href="/bookmarklet/">Bookmarklet</a></li>
           <li><a href="/comments-and-suggestions/">comments and suggestions</a></li>
           <!--
           <li><a href="/api/">API</a></li>
           -->
        </ul>
     </div>
  </div>

  <div id="menu2">
     <div class="center">
        {% block menu2 %}
        <ul>
           <li{% if onglet == 'home' %} class="selected"{% endif %}><a href="/">Home</a></li>
           <li{% if onglet == 'users' %} class="selected"{% endif %}><a href="/users/">Users</a></li>
           <li{% if onglet == 'songs' %} class="selected"{% endif %}><a href="/songs/">Songs</a></li>
           <li{% if onglet == 'rooms' %} class="selected"{% endif %}><a href="/rooms/">Rooms</a></li>
           <!--
           -->
        </ul>
        <div id="searchform">
           <form method="get" action="/search/">
              <input type="text" id="search" name="search" value="{% if search %}{{search}}{% else %}Search{% endif %}" />
              <select name="what">
                 <option value="user"{% if what == 'user' %} selected="selected"{% endif %}>User</option>
                 <option value="song"{% if what == 'song' %} selected="selected"{% endif %}>Song/Album/Artist</option>
                 <option value="room"{% if what == 'room' %} selected="selected"{% endif %}>Room</option>
                 <option value="chat"{% if what == 'chat' %} selected="selected"{% endif %}>Chat</option>
              </select>
              <input type="submit" value="Search" />
           </form>
        </div>
        {% endblock %}
     </div>
     <div class="clear"></div>
  </div>
</div>

<div id="page">
   <!--
   <div class="disclamer" style="font-weight: bold; font-style: normal; font-size: 19px; line-height: 25px; border-bottom: 2px solid gray; margin-bottom: 40px; padding-bottom: 20px;">
      <img src="/img/error.png" alt="" />
      <span style="color: red;">Turntable.fm</span> has "accidentally" <span style="color: red;">shut down</span> ttdashboard and make at least <span style="color: red;">1,500 daily users</span> sad. If you want them to repair it, I invite you to ask them on twitter or all other way that you can find. During that time, I'm trying to make a big <span style="color: red;">"hack around"</span> to get it back.
      <div style="margin-top: 10px;">Alain Gilbert</div>
      <br />
      <a href="/hackaround/">&gt;&gt; You want it back, Follow these easy steps. &lt;&lt;</a>
   </div>

   <div class="disclamer" style="font-weight: bold; font-style: normal; font-size: 15px; line-height: 25px; border-bottom: 2px solid gray; margin-bottom: 20px; padding-bottom: 10px;">
      <img src="/img/error.png" alt="" />
      <span>The live stats are temporarily stopped. We are making some improvements on the database.</span>
   </div>
   -->

{% block content %}{% endblock %}
</div>

<div id="footer">
   <div class="center">
      <div class="left">
         <span>Follow <a href="http://twitter.com/#!/alain_gilbert">@alain_gilbert</a> on twitter</span><br />
         <br />
         <a href="/terms/">Terms of Service / Privacy Policy</a><br />
      </div>
   </div>
</div>


<script type="text/javascript">
var _sf_async_config={uid:25412,domain:"ttdashboard.com"};
(function(){
  function loadChartbeat() {
    window._sf_endpt=(new Date()).getTime();
    var e = document.createElement('script');
    e.setAttribute('language', 'javascript');
    e.setAttribute('type', 'text/javascript');
    e.setAttribute('src',
       (("https:" == document.location.protocol) ? "https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/" : "http://static.chartbeat.com/") +
       "js/chartbeat.js");
    document.body.appendChild(e);
  }
  var oldonload = window.onload;
  window.onload = (typeof window.onload != 'function') ?
     loadChartbeat : function() { oldonload(); loadChartbeat(); };
})();
</script>
</body>
</html>
